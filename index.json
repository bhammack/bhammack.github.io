[{"content":"As described in the previous post, nearly all the software running on my home server is managed through docker containers. In this post, I\u0026rsquo;ll deep dive some of the service I run, and integrations I\u0026rsquo;ve created between containers.\nCore services To advertise my home server to the world, I run a simple container that reports my IP to Cloudflare, and updates the wildcard A-record to the requestor\u0026rsquo;s address.\nThe heart of the ability to self-host web applications is Traefik, a fantastic docker-first reverse proxy. Traefik is the secret sauce that allows me to expose multiple web apps - each under their own subdomain - despite only having one public IP from my internet service provider. By writing entry point rules for each service definition within docker-compose.yml, Traefik will route traffic to the appropriate container. In addition to reverse proxying, Traefik also handles generation of Let\u0026rsquo;s Encrypt certificates for all subdomains (via wildcard cert), auto-upgrades clients from http to https, and facilitates plugins for other middleware.\nTo protect against unauthorized access to my applications, Traefik is running with an authentication middleware known as Authelia. This middleware guards access by implementing forward authentication. Clients are promoted to log in when accessing a domain that is protected if they do not already have an authentication cookie. Authelia offers both single-factor and multi-factor authentication methods, and is as easy to incorporate for any container as adding a label within docker-compose.yml.\nA common challenge that I experience with this configuration however is that many applications prefer to manage their own user database. Any user (myself) would need to log in to Authelia first, then to the respective application (such as Jenkins, Portainer, Jellyfin, etc), which quickly gets irritating remembering passwords despite the user already passing the server-wide authentication check. Authelia itself is not an identity provider; only an authentication server. To resolve this issue and make the entire stack more open to scale, I established a private LDAP server to serve user identities using OpenLDAP. This brings the added benefit of integrating directly with applications that consume LDAP queries as authorization sources.\nSide note - It\u0026rsquo;s often necessary to disable authentication or force a single-user mode within web applications protected by Authelia. Forward auth isn\u0026rsquo;t a new strategy, so fortunately many applications offer the ability to do this, however it\u0026rsquo;s typically an option buried in settings and not enabled by default.\nAdministrative services Portainer Web ssh VScode Webtop Novnc Grafana Utilities PiHole Jenkins Node-RED Gotify Diun Mailrise Home Home Assistant MPD MQTT Mongo ESPHome Data Filebrowser Syncthing Jellyfin Photoprism Gitea Other Minecraft ","permalink":"https://benhammack.dev/posts/homeserver/services/","summary":"As described in the previous post, nearly all the software running on my home server is managed through docker containers. In this post, I\u0026rsquo;ll deep dive some of the service I run, and integrations I\u0026rsquo;ve created between containers.\nCore services To advertise my home server to the world, I run a simple container that reports my IP to Cloudflare, and updates the wildcard A-record to the requestor\u0026rsquo;s address.\nThe heart of the ability to self-host web applications is Traefik, a fantastic docker-first reverse proxy.","title":"Home-server architecture - Services"},{"content":"Nearly everything hosted on my home server is executed and managed as a collection of docker containers and configurations. This entire stack is versioned through a private git repository in order to version and encapsulate the composition, configuration, and integrations in one place. Within this repo lies one docker-compose.yml that describes all my services (though at this point, I am pursuing decomposing this file into multiple stacks as it\u0026rsquo;s growing quite cumbersome to maintain).\nFrom the original Ubuntu 18 server installation, only a few modifications were made to the base operating system. I\u0026rsquo;ll describe those changes later in this post.\nCan I see it? \u0026lt;generate Tee of repo here\u0026gt; What services do you run in Docker? PiHole Trilium Jenkins NodeRed Home Assistant Cloudflare DDNS Gitea and more! What was modified on the host machine? DNS The default DNS resolver for Ubuntu. Traditionally, Linux operating systems utilize /etc/hosts for local name resolution. However, Ubuntu thinks it knows what\u0026rsquo;s best for you, and implemented their own resolver services. I disabled this service by:\nsudo systemctl stop systemd-resolved sudo systemctl disable systemd-resolved # Then modify the resolv file to change the default nameserver address. sudo nano /etc/resolv.conf # change nameserver 127.0.0.53 to 127.0.0.1 fail2ban fail2ban was installed at the operating system level in order to ban malicious actors who would seek to exploit a home server.\nsnap snap was removed in favor of the traditional apt package manager.\ncron A cron-job was created on the host machine to report its status to healthchecks.io as a means of monitoring the base OS health.\ndisable sleep sudo systemctl mask sleep.target suspend.target hibernate.target hybrid-sleep.target https://unix.stackexchange.com/a/329081\nIn retrospect, I should have installed Debian as the server\u0026rsquo;s operating system as I do not use any of the \u0026ldquo;features\u0026rdquo; Canonical sneaks into Ubuntu.\n","permalink":"https://benhammack.dev/posts/homeserver/docker/","summary":"Nearly everything hosted on my home server is executed and managed as a collection of docker containers and configurations. This entire stack is versioned through a private git repository in order to version and encapsulate the composition, configuration, and integrations in one place. Within this repo lies one docker-compose.yml that describes all my services (though at this point, I am pursuing decomposing this file into multiple stacks as it\u0026rsquo;s growing quite cumbersome to maintain).","title":"Home-server architecture - Docker"},{"content":"How do I begin? Great question! The first step in taking the plunge is to acquire a domain name. A domain name wikipedia.org, amazon.com, or hammack.dev is your ticket-to-ride in exposing your presence to the public internet and are configured through the backbone of the internet - the domain name system. DNS records can be thought of as the internet\u0026rsquo;s phonebook, and by acquiring a domain you are adding your presence to the world.\nWhere do I get a domain name? You have options:\nI\u0026rsquo;m just looking for some casual non-committal fun: You can use a free service such as DuckDNS or NoIP that can provide you with your own custom domain name. The limitation of these websites is that you are acquiring a subdomain and have limited configuration of your DNS records.\nI\u0026rsquo;m looking for something serious and long-term: Purchase a domain name from a registrar, such as Google Domains, Namecheap, or CloudFlare\nFor my domain name management, I use CloudFlare. Keep reading to find out why!\nWhat do I do with my domain name? Your next step is to create or configure an A-record that resolves to your server\u0026rsquo;s IP address. How this is done depends on your previous option above.\nIf you\u0026rsquo;re using a free subdomain service like DuckDNS or NoIP, they may have provided you with a secret token. Calling their refresh API will automatically publish your IP address as the A-record. If you purchased your domain name from a registrar, most have a tool to guide you through the process of creating records. Can I see your configuration as a reference? Sure! As mentioned previousily, my domain name is managed through Cloudflare. This is what my DNS dashboard looks like. In the screenshot above, I had two DNS records.\nA CNAME record. This record defers resolution of hammack.dev to bhammack.github.io. This is the website you are currently viewing! An A record. This record is a Wildcard DNS record. In effect, this means any resolution of a subdomain of hammack.dev such as jenkins.hammack.dev or photos.hammack.dev will resolve to the IP address listed. This configuration is critical for hosting of multiple services. Why Wildcard DNS records? Why not fixed A records? Because I only expose one IP address to the internet, I elected to use a wildcard DNS record. Alternatively, I could specify subdomain A-records for each of my services but this would become difficult to scale and manage. The downside of using a wildcard record is that Cloudflare cannot proxy or cache traffic destined for subdomains.\n","permalink":"https://benhammack.dev/posts/homeserver/dns/","summary":"How do I begin? Great question! The first step in taking the plunge is to acquire a domain name. A domain name wikipedia.org, amazon.com, or hammack.dev is your ticket-to-ride in exposing your presence to the public internet and are configured through the backbone of the internet - the domain name system. DNS records can be thought of as the internet\u0026rsquo;s phonebook, and by acquiring a domain you are adding your presence to the world.","title":"Home-server architecture - DNS"},{"content":"In this article, I\u0026rsquo;ll describe a fun exploration into running RuneLite on my Google Pixel 4a. https://github.com/runelite\n","permalink":"https://benhammack.dev/posts/termux-runelite/","summary":"In this article, I\u0026rsquo;ll describe a fun exploration into running RuneLite on my Google Pixel 4a. https://github.com/runelite","title":"Running RuneLite on Android"},{"content":"After recently upgrading my daily mobile device, I was left with an unlocked SIM-less Samsung Galaxy S7. After extensive research, it appears the model that I own is bootloader-locked, which prevents me from installing any alternative operating systems such as LineageOS.\npkg update update repos\npkg install openssh to install openssh\nsshd to start the ssh daemon, listening for connections on port 8022\npasswd on termux to set a password https://wiki.termux.com/wiki/Remote_Access\nssh -p 8022 10.0.0.88 on remote host\ncloudflared tunnel route dns sshtunnel pixel.hammack.dev create the cname record in your hosted zone\n","permalink":"https://benhammack.dev/posts/termux-ssh-outbound/","summary":"After recently upgrading my daily mobile device, I was left with an unlocked SIM-less Samsung Galaxy S7. After extensive research, it appears the model that I own is bootloader-locked, which prevents me from installing any alternative operating systems such as LineageOS.\npkg update update repos\npkg install openssh to install openssh\nsshd to start the ssh daemon, listening for connections on port 8022\npasswd on termux to set a password https://wiki.","title":"Setting up Cloudflared with Termux"},{"content":"I recently purchased an Amazfit GTS as a cheap smart watch to record fitness metrics. The partnered app Zepp (formerly Amazfit) for Android devices did not appear to have any means of data export. In the pursuit of securing my digital footprint I installed an alternative app for managing the device Notify for Amazfit, which boasts to be \u0026ldquo;privacy first\u0026rdquo;.\nNotify for Amazfit offers an every-two-days backup feature (to either Google Drive or local storage) by generating a file notify_backupA.nak. Using file, it\u0026rsquo;s revealed this is just a renamed zip archive. Unzipping the file extracts two:\nbackup.bak UTF-8 Unicode text, with very long lines, with no line terminators backup.db SQLite 3.x database, user version 18, last written using SQLite version 3018002 Opening backup.db in a sqlite3 database explorer, we can see the following tables and indicies However inspecting each table individually, I see that some are empty:\nSpo2Data - empty StressData - empty android_metadata - only contains one entry, \u0026#34;en_US\u0026#34; rush_co_uk_rushorm_android_RushBitmapFile - empty rush_co_uk_rushorm_android_RushJSONFile - empty rush_co_uk_rushorm_android_RushTextFile - empty rush_com_mc_miband1_model2_Weight - empty (haven\u0026#39;t ever recorded any weight entries) ","permalink":"https://benhammack.dev/posts/amazfit-schema/","summary":"I recently purchased an Amazfit GTS as a cheap smart watch to record fitness metrics. The partnered app Zepp (formerly Amazfit) for Android devices did not appear to have any means of data export. In the pursuit of securing my digital footprint I installed an alternative app for managing the device Notify for Amazfit, which boasts to be \u0026ldquo;privacy first\u0026rdquo;.\nNotify for Amazfit offers an every-two-days backup feature (to either Google Drive or local storage) by generating a file notify_backupA.","title":"Amazfit GTS sqlite3 Schema"},{"content":"Hello world!\n","permalink":"https://benhammack.dev/posts/test/","summary":"Hello world!","title":"Test"},{"content":"This article offers a sample of basic Markdown syntax that can be used in Hugo content files, also it shows whether basic HTML elements are decorated with CSS in a Hugo theme.\nHeadings The following HTML \u0026lt;h1\u0026gt;—\u0026lt;h6\u0026gt; elements represent six levels of section headings. \u0026lt;h1\u0026gt; is the highest section level while \u0026lt;h6\u0026gt; is the lowest.\nH1 H2 H3 H4 H5 H6 Paragraph Xerum, quo qui aut unt expliquam qui dolut labo. Aque venitatiusda cum, voluptionse latur sitiae dolessi aut parist aut dollo enim qui voluptate ma dolestendit peritin re plis aut quas inctum laceat est volestemque commosa as cus endigna tectur, offic to cor sequas etum rerum idem sintibus eiur? Quianimin porecus evelectur, cum que nis nust voloribus ratem aut omnimi, sitatur? Quiatem. Nam, omnis sum am facea corem alique molestrunt et eos evelece arcillit ut aut eos eos nus, sin conecerem erum fuga. Ri oditatquam, ad quibus unda veliamenimin cusam et facea ipsamus es exerum sitate dolores editium rerore eost, temped molorro ratiae volorro te reribus dolorer sperchicium faceata tiustia prat.\nItatur? Quiatae cullecum rem ent aut odis in re eossequodi nonsequ idebis ne sapicia is sinveli squiatum, core et que aut hariosam ex eat.\nBlockquotes The blockquote element represents content that is quoted from another source, optionally with a citation which must be within a footer or cite element, and optionally with in-line changes such as annotations and abbreviations.\nBlockquote without attribution Tiam, ad mint andaepu dandae nostion secatur sequo quae. Note that you can use Markdown syntax within a blockquote.\nBlockquote with attribution Don\u0026rsquo;t communicate by sharing memory, share memory by communicating.\n— Rob Pike1\nTables Tables aren\u0026rsquo;t part of the core Markdown spec, but Hugo supports supports them out-of-the-box.\nName Age Bob 27 Alice 23 Inline Markdown within tables Italics Bold Code italics bold code Code Blocks Code block with backticks \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block indented with four spaces \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026quot;en\u0026quot;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026quot;utf-8\u0026quot;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block with Hugo\u0026rsquo;s internal highlight shortcode \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Gist List Types Ordered List First item Second item Third item Unordered List List item Another item And another item Nested list Fruit Apple Orange Banana Dairy Milk Cheese Other Elements — abbr, sub, sup, kbd, mark GIF is a bitmap image format.\nH2O\nXn + Yn = Zn\nPress CTRL+ALT+Delete to end the session.\nMost salamanders are nocturnal, and hunt for insects, worms, and other small creatures.\nThe above quote is excerpted from Rob Pike\u0026rsquo;s talk during Gopherfest, November 18, 2015.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://benhammack.dev/posts/markdown-guide/","summary":"\u003cp\u003eThis article offers a sample of basic Markdown syntax that can be used in Hugo content files, also it shows whether basic HTML elements are decorated with CSS in a Hugo theme.\u003c/p\u003e","title":"Markdown Syntax Guide"},{"content":"Hey there!\nI\u0026rsquo;m a software engineer specializing in software integrations. I employ novel solutions and best practices in all the code-bases I touch, crafting code not only for the customer, but also for my fellow engineers.\nEmployment Systems Development Engineer - Amazon Web Services\nSoftware Engineer - Lockheed Martin\nEquipment I am a full stack web developer with intricate experience in software integration and operations support. My tool belt consists of:\nPython: Pandas, Flask JavaScript: both back-end and front-end NodeJS: Express, Nuxt VueJS \u0026amp; React, Leaflet Docker: Containerization of existing applications and design around the 12-factor application model. Education Masters of Science: Computer Science, specialization in Interactive Intelligence\nBachelors of Science: Computer Science\n","permalink":"https://benhammack.dev/about/","summary":"about","title":"About"}]