<!DOCTYPE html>
<html lang="en-us">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.76.4" />

    
    
    

<title>Hacking the D-Link DHCS-8525LH into Home Assistant • Ben H</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Hacking the D-Link DHCS-8525LH into Home Assistant"/>
<meta name="twitter:description" content="My father recently has been looking to migrate his existing IP camera patchworked-system into Home Assistant as a central viewing location for all IoT devices. As part of this, he purchased a D-Link DHCS-8525LH wireless IP camera as an upgrade for an older generic knockoff unit. However unbeknownst to him, the camera is tightly coupled to the manufacturer&rsquo;s proprietary app, and doesn&rsquo;t allow for access outside their ecosystem&hellip;
&hellip; or does it?"/>

<meta property="og:title" content="Hacking the D-Link DHCS-8525LH into Home Assistant" />
<meta property="og:description" content="My father recently has been looking to migrate his existing IP camera patchworked-system into Home Assistant as a central viewing location for all IoT devices. As part of this, he purchased a D-Link DHCS-8525LH wireless IP camera as an upgrade for an older generic knockoff unit. However unbeknownst to him, the camera is tightly coupled to the manufacturer&rsquo;s proprietary app, and doesn&rsquo;t allow for access outside their ecosystem&hellip;
&hellip; or does it?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ben.hammack.dev/posts/dlink-dhcs-8525lh/" />
<meta property="article:published_time" content="2020-07-26T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-07-26T00:00:00+00:00" />


    


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs2015.min.css">








<link rel="stylesheet" href="/scss/hyde-hyde.de9e8936e3296e6564d1c77208e361a6f85eefe76ee7e060c281a8e352ec4a0a.css">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" media="print">




<link rel="stylesheet" href="/scss/hugo-toc.2ca3d52861da141e6c98eb2fc7a37a02e6a9fe784022823e329004d47fb56f36.css">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    
    

</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://ben.hammack.dev/">Ben H</a>
      </span>
      
        
        
        
        <div class="author-image">
          <img src="https://ben.hammack.dev/img/author.jpg" alt="Author Image" class="img--circle img--headshot element--center">
        </div>
        
      
      
      <p class="site__description">
         ben.hammack.dev 
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">Ben H</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/posts/">
						<span>Posts</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/categories/">
						<span>Categories</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/about/">
						<span>About</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/portfolio/">
						<span>Portfolio</span>
					</a>
				</li>
			 
		
	</ul>
</div>

        <section class="social">
	
	
	
	<a href="https://github.com/bhammack" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	<a href="https://linkedin.com/in/benjamin-hammack-7aa252184" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	
	<a href="mailto:hammack.b@gmail.com" rel="me"><i class="fas fa-at fa-lg" aria-hidden="true"></i></a>
	
</section>

      </div>
    </div>
    
<div class="copyright">
  &copy; 2020 All rights reserved. Views expressed here are my own.
  
</div>


<div class="builtwith">
Built with <a href="https://gohugo.io">Hugo</a> ❤️ <a href="https://github.com/htr3n/hyde-hyde">hyde-hyde</a>.
</div>


  </div>
</div>

        <div class="content container">
            
    
<article>
  <header>
    <h1>Hacking the D-Link DHCS-8525LH into Home Assistant</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Jul 26, 2020
    
    
    
      
      
          in
          
          
              <a class="badge badge-category" href="/categories/development">DEVELOPMENT</a>
              
          
      
    
    
    
      
      
          <br/>
           <i class="fas fa-tags"></i>
          
          <a class="badge badge-tag" href="/tags/home-assistant">home assistant</a>
           
      
          <a class="badge badge-tag" href="/tags/http">http</a>
           
      
          <a class="badge badge-tag" href="/tags/rtsp">rtsp</a>
          
      
    
    
    <br/>
    <i class="fas fa-clock"></i> 2 min read
</div>


  </header>
  
  
  
  
  <div class="post">
    <p>My father recently has been looking to migrate his existing IP camera patchworked-system into Home Assistant as a central viewing location for all IoT devices. As part of this, he purchased a D-Link DHCS-8525LH wireless IP camera as an upgrade for an older generic knockoff unit. However unbeknownst to him, the camera is tightly coupled to the manufacturer&rsquo;s proprietary app, and doesn&rsquo;t allow for access outside their ecosystem&hellip;</p>
<p>&hellip; or does it?&hellip;</p>
<p>Evidence found <a href="http://forums.dlink.com/index.php?topic=72715.0">on the D-Link user forms</a> suggests that D-Link customer support typically denies requests for integration endpoints. I figure these requests are either denied by an agenda, or customer support doesn&rsquo;t have these details on hand per device.</p>
<p>Nevertheless, some users noted integration points of previous models of IP cameras to follow some of these formats:</p>
<pre><code>http://[username]:[password]@XXX.XXX.XXX.XXX/image/jpeg.cgi
http://admin:&lt;password&gt;@&lt;ip address&gt;/video/ACVS-H264.cgi?profileid=1
http://admin:&lt;password&gt;@&lt;ip address&gt;/av2/ACAS-ULAW.cgi
http://[username]:[password]@XXX.XXX.XXX.XXX/video/flv.cgi
http://[username]:[password]@XXX.XXX.XXX.XXX/av2/flv.cgi
</code></pre><p>So it looks promising! The camera after all would need to expose some kind of standard encoded video endpoint to be consumed by the application. Testing out these curls with username: admin and password: <!-- raw HTML omitted --> yielded no results though.</p>
<p>Further digging found <a href="http://forums.dlink.com/index.php?topic=74541.0">this forum post</a> documenting excellent camera details by a user who seemed disgruntled by the lack of information, which happend to be the exact same camera in question! The posts insists though that the password field should be blank. Hitting these endpoints with the expected credentials didn&rsquo;t provide any video feeds, only 401 responses, so it seems I was out of luck.</p>
<p>When combing over the details the next day, I recalled a previous IP camera in the past created by an offbrand compnay that used it&rsquo;s model number as the password of the camera (super secure, I know). With this value in hand, I gave it a shot again&hellip;</p>
<p>And it worked! The camera was in fact exposing a FFMPEG stream on the endpoint. This endpoint was simply added as a camera device to home assistant, which was able to render it in browser.</p>
<pre><code>http://admin:748832@192.168.X.X/video/flv.cgi
</code></pre><p>In conclusion though, one fine detail broke the system after a few days use. In the forums post above, it was mentioned that these endpoints were exposed by a previous iteration of the firmware, so an update may close them off &ndash; this happend to be true. Since the camera was initialized to the network by means of the proprietary app, it apperas to have issued an auto-update sequence during the night which has locked the device down again :(. All in all though, this was a great excercise in problem solving!</p>

  </div>
  

<div class="navigation navigation-single">
    
    <a href="/posts/pan-ribeye-steak/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">Pan-seared Ribeye Steak</span>
    </a>
    
    
    <a href="/posts/selfhosted-starter-pack/" class="navigation-next">
      <span class="navigation-tittle">Self-hosting 101</span>
      <i aria-hidden="true" class="fa fa-chevron-right"></i>
    </a>
    
</div>


  

  
    


</article>

        </div>
        
    

<script defer src="https://use.fontawesome.com/releases/v5.11.2/js/all.js" integrity="sha384-b3ua1l97aVGAPEIe48b4TC60WUQbQaGi2jqAWM90y0OZXZeyaTCWtBTKtjW2GXG1" crossorigin="anonymous"></script>


    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        
    <script type="text/javascript">
        
        hljs.initHighlightingOnLoad();
    </script>
    




    



    </body>
</html>
